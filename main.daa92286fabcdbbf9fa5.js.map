{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./index.js"],"names":["refs","userInput","document","querySelector","daysSpan","hoursSpan","minsSpan","secsSpan","startBtn","pauseBtn","resetBtn","modal","BSN","Modal","targetDate","timer","onTick","this","intervalId","isActive","start","disabled","setInterval","currentTime","Date","now","time","days","pad","Math","floor","hours","mins","secs","getTimeComponents","show","pause","clearInterval","reset","value","textContent","String","padStart","addEventListener","e","currentTarget"],"mappings":"iJAAaA,EAAO,CAClBC,UAAWC,SAASC,cAAc,eAClCC,SAAUF,SAASC,cAAc,yBACjCE,UAAWH,SAASC,cAAc,0BAClCG,SAAUJ,SAASC,cAAc,yBACjCI,SAAUL,SAASC,cAAc,yBACjCK,SAAUN,SAASC,cAAc,6BACjCM,SAAUP,SAASC,cAAc,6BACjCO,SAAUR,SAASC,cAAc,8BCL7BQ,EAAQ,I,UAAIC,EAAIC,OAAM,YAE1BZ,EAQED,EARFC,UACAG,EAOEJ,EAPFI,SACAC,EAMEL,EANFK,UACAC,EAKEN,EALFM,SACAC,EAIEP,EAJFO,SACAC,EAGER,EAHFQ,SACAC,EAEET,EAFFS,SACAC,EACEV,EADFU,SAGEI,EAAa,KAyCXC,EAAQ,I,WAtCZ,cAAwB,IAAVC,EAAU,EAAVA,OACZC,KAAKC,WAAa,KAClBD,KAAKE,UAAW,EAChBF,KAAKD,OAASA,E,2BAEhBI,MAAA,WAAQ,WACFH,KAAKE,WAGU,OAAfL,GAIJG,KAAKE,UAAW,EAChBX,EAASa,UAAW,EACpBZ,EAASY,UAAW,EAEpBJ,KAAKC,WAAaI,aAAY,WAC5B,IAAMC,EAAcC,KAAKC,MAEnBC,EA4CZ,SAA2BH,GACzB,IAAMI,EAAOC,EAAIC,KAAKC,MAAMP,EAAc,QAEpCQ,EAAQH,EACZC,KAAKC,MAAOP,EAAc,MAAf,OAEPS,EAAOJ,EAAIC,KAAKC,MAAOP,EAAc,KAAf,MACtBU,EAAOL,EAAIC,KAAKC,MAAOP,EAAc,IAAe,MAC1D,MAAO,CAAEI,OAAMI,QAAOC,OAAMC,QApDXC,CADKpB,EAAaS,GAE/B,EAAKP,OAAOU,KACX,MAZDf,EAAMwB,S,EAcVC,MAAA,WACE3B,EAASY,UAAW,EACpBJ,KAAKE,UAAW,EAChBX,EAASa,UAAW,EACpBgB,cAAcpB,KAAKC,a,EAErBoB,MAAA,WACED,cAAcpB,KAAKC,YAarBjB,EAAUsC,MAAQ,KAClBzB,EAAa,KACbL,EAASY,UAAW,EACpBb,EAASa,UAAW,EACpBjB,EAASoC,YAAc,KACvBnC,EAAUmC,YAAc,KACxBlC,EAASkC,YAAc,KACvBjC,EAASiC,YAAc,KAlBrBvB,KAAKC,WAAa,KAClBD,KAAKE,UAAW,G,KAIN,CAAmB,CAC/BL,WAAY,IAAIU,KAChBR,OAkBF,YAAsD,IAA3BW,EAA2B,EAA3BA,KAAMI,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KAC5C7B,EAASoC,YAAcb,EACvBtB,EAAUmC,YAAcT,EAAQ,IAChCzB,EAASkC,YAAcR,EAAO,IAC9BzB,EAASiC,YAAcP,KARzB,SAASL,EAAIW,GACX,OAAOE,OAAOF,GAAOG,SAAS,EAAG,KAgCnCzC,EAAU0C,iBAAiB,SAZ3B,SAAcC,GACZ9B,EAAa,IAAIU,KAAKoB,EAAEC,cAAcN,UAYxC/B,EAASmC,iBAAiB,SAV1B,WACE5B,EAAMK,WAURX,EAASkC,iBAAiB,SAR1B,WACE5B,EAAMqB,WAQR1B,EAASiC,iBAAiB,SAN1B,WACE5B,EAAMuB,a","file":"main.daa92286fabcdbbf9fa5.js","sourcesContent":["export const refs = {\r\n  userInput: document.querySelector('.user-input'),\r\n  daysSpan: document.querySelector('span[data-value=days]'),\r\n  hoursSpan: document.querySelector('span[data-value=hours]'),\r\n  minsSpan: document.querySelector('span[data-value=mins]'),\r\n  secsSpan: document.querySelector('span[data-value=secs]'),\r\n  startBtn: document.querySelector('button[data-action=start]'),\r\n  pauseBtn: document.querySelector('button[data-action=pause]'),\r\n  resetBtn: document.querySelector('button[data-action=reset]'),\r\n};\r\n","import './styles.css';\r\nimport { refs } from './js/refs';\r\nimport BSN from 'bootstrap.native';\r\nconst modal = new BSN.Modal('#myModal');\r\nconst {\r\n  userInput,\r\n  daysSpan,\r\n  hoursSpan,\r\n  minsSpan,\r\n  secsSpan,\r\n  startBtn,\r\n  pauseBtn,\r\n  resetBtn,\r\n} = refs;\r\n\r\nlet targetDate = null;\r\n\r\nclass CountdownTimer {\r\n  constructor({ onTick }) {\r\n    this.intervalId = null;\r\n    this.isActive = false;\r\n    this.onTick = onTick;\r\n  }\r\n  start() {\r\n    if (this.isActive) {\r\n      return;\r\n    }\r\n    if (targetDate === null) {\r\n      modal.show();\r\n      return;\r\n    }\r\n    this.isActive = true;\r\n    startBtn.disabled = true;\r\n    pauseBtn.disabled = false;\r\n\r\n    this.intervalId = setInterval(() => {\r\n      const currentTime = Date.now();\r\n      const deltaTime = targetDate - currentTime;\r\n      const time = getTimeComponents(deltaTime);\r\n      this.onTick(time);\r\n    }, 1000);\r\n  }\r\n  pause() {\r\n    pauseBtn.disabled = true;\r\n    this.isActive = false;\r\n    startBtn.disabled = false;\r\n    clearInterval(this.intervalId);\r\n  }\r\n  reset() {\r\n    clearInterval(this.intervalId);\r\n    defaultState();\r\n    this.intervalId = null;\r\n    this.isActive = false;\r\n  }\r\n}\r\n\r\nconst timer = new CountdownTimer({\r\n  targetDate: new Date(),\r\n  onTick: updateClockface,\r\n});\r\n\r\nfunction defaultState() {\r\n  userInput.value = null;\r\n  targetDate = null;\r\n  pauseBtn.disabled = false;\r\n  startBtn.disabled = false;\r\n  daysSpan.textContent = '00';\r\n  hoursSpan.textContent = '00';\r\n  minsSpan.textContent = '00';\r\n  secsSpan.textContent = '00';\r\n}\r\n\r\nfunction pad(value) {\r\n  return String(value).padStart(2, '0');\r\n}\r\n\r\nfunction updateClockface({ days, hours, mins, secs }) {\r\n  daysSpan.textContent = days;\r\n  hoursSpan.textContent = hours + ':';\r\n  minsSpan.textContent = mins + ':';\r\n  secsSpan.textContent = secs;\r\n}\r\nfunction getTimeComponents(currentTime) {\r\n  const days = pad(Math.floor(currentTime / (1000 * 60 * 60 * 24)));\r\n\r\n  const hours = pad(\r\n    Math.floor((currentTime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\r\n  );\r\n  const mins = pad(Math.floor((currentTime % (1000 * 60 * 60)) / (1000 * 60)));\r\n  const secs = pad(Math.floor((currentTime % (1000 * 60)) / 1000));\r\n  return { days, hours, mins, secs };\r\n}\r\n\r\nfunction date(e) {\r\n  targetDate = new Date(e.currentTarget.value);\r\n}\r\nfunction onStartBtn() {\r\n  timer.start();\r\n}\r\nfunction onPauseBtn() {\r\n  timer.pause();\r\n}\r\nfunction onResetBtn() {\r\n  timer.reset();\r\n}\r\nuserInput.addEventListener('input', date);\r\nstartBtn.addEventListener('click', onStartBtn);\r\npauseBtn.addEventListener('click', onPauseBtn);\r\nresetBtn.addEventListener('click', onResetBtn);\r\n"],"sourceRoot":""}